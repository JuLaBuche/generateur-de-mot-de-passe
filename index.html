<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Générateur de Mot de Passe</title>
</head>
<body>
  <h1>Générateur de Mot de Passe</h1>

  <label for="length">Longueur du Mot de Passe:</label>
  <input type="number" id="length" value="12" oninput="validateInput()">

  <br>

  <label for="uppercase">Inclure des Majuscules:</label>
  <input type="checkbox" id="uppercase" checked onchange="generatePassword()"> |

  <label for="lowercase">Inclure des Minuscules:</label>
  <input type="checkbox" id="lowercase" checked onchange="generatePassword()"> |

  <label for="numbers">Inclure des Chiffres:</label>
  <input type="checkbox" id="numbers" checked onchange="generatePassword()"> |

  <label for="symbols">Inclure des Caractères Spéciaux:</label>
  <input type="checkbox" id="symbols" checked onchange="generatePassword()">

  <br>

  <button onclick="generatePassword()">Générer Mot de Passe</button>

  <div id="password-output"></div>

  <br>

  <button onclick="copyToClipboard()">Copier dans le Presse-Papiers</button>

  <script>
    function generatePassword() {
      const length = document.getElementById('length').value;
      const includeUppercase = document.getElementById('uppercase').checked;
      const includeLowercase = document.getElementById('lowercase').checked;
      const includeNumbers = document.getElementById('numbers').checked;
      const includeSymbols = document.getElementById('symbols').checked;

      const uppercaseChars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
      const lowercaseChars = 'abcdefghijklmnopqrstuvwxyz';
      const numberChars = '0123456789';
      const symbolChars = '!@#$%^&*()_-+=<>?';

      let availableChars = '';

      if (includeUppercase) {
        availableChars += uppercaseChars;
      }
      if (includeLowercase) {
        availableChars += lowercaseChars;
      }
      if (includeNumbers) {
        availableChars += numberChars;
      }
      if (includeSymbols) {
        availableChars += symbolChars;
      }

      let password = '';

      for (let i = 0; i < length; i++) {
        const randomIndex = Math.floor(Math.random() * availableChars.length);
        password += availableChars.charAt(randomIndex);
      }

      document.getElementById('password-output').innerText = password;
    }

    function copyToClipboard() {
      const passwordOutput = document.getElementById('password-output');
      const textarea = document.createElement('textarea');
      textarea.value = passwordOutput.innerText;
      document.body.appendChild(textarea);
      textarea.select();
      document.execCommand('copy');
      document.body.removeChild(textarea);

      // Modifier le texte du bouton après la copie du mot de passe
      const copyButton = document.querySelector('#copy-button');
      copyButton.innerText = 'Copié !';

      // Réinitialiser le style du bouton de copie après un court délai
      setTimeout(() => {
        copyButton.innerText = 'Copier dans le Presse-Papiers';
      }, 1500);
    }

    function validateInput() {
      const lengthInput = document.getElementById('length');
      generatePassword();
    }
  </script>
</body>
</html>
